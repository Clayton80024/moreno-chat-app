(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37163,e=>{"use strict";e.s(["useFriendRequests",()=>i,"useFriends",()=>t,"useUserSearch",()=>r]);var a=e.i(71645),n=e.i(55344),l=e.i(65300),o=e.i(83642),c=e.i(17927);function i(){let{friendRequests:e,refreshFriendRequests:i,addOptimisticFriendRequest:r}=(0,n.useRealtime)(),{user:t}=(0,o.useAuth)(),[d,m]=(0,a.useState)(!1),[s,f]=(0,a.useState)(null),[g,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{},[e]);let S=(0,a.useCallback)(async(e,a)=>{if(t&&!g){u(!0),f(null);try{let n=null;try{let{data:a}=await c.supabase.from("user_profiles").select("id, full_name, username, avatar_url, bio, is_online").eq("id",e).single();n=a}catch(e){console.warn("âš ï¸ Could not fetch receiver profile for optimistic update:",e)}let o={id:"temp-".concat(Date.now()),sender_id:t.id,receiver_id:e,status:"pending",message:a||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),receiver_profile:n||{id:e,full_name:null,username:null,avatar_url:null,bio:null,is_online:!1}};r(o),await l.FriendsService.sendFriendRequest(t.id,e,a),await i()}catch(e){f(e instanceof Error?e.message:"Failed to send friend request")}finally{u(!1)}}},[t,g,i,r]),h=(0,a.useCallback)(async e=>{if(t&&!g){u(!0),f(null);try{await l.FriendsService.acceptFriendRequest(e,t.id),await i()}catch(e){f(e instanceof Error?e.message:"Failed to accept friend request")}finally{u(!1)}}},[t,g,i]),C=(0,a.useCallback)(async e=>{if(t&&!g){u(!0),f(null);try{await l.FriendsService.declineFriendRequest(e,t.id),await i()}catch(e){f(e instanceof Error?e.message:"Failed to decline friend request")}finally{u(!1)}}},[t,g,i]),w=(0,a.useCallback)(async e=>{if(t&&!g){u(!0),f(null);try{await l.FriendsService.declineFriendRequest(e,t.id),await i()}catch(e){f(e instanceof Error?e.message:"Failed to cancel friend request")}finally{u(!1)}}},[t,g,i]);return{sentRequests:e.sent,receivedRequests:e.received,loading:d,error:s,sendFriendRequest:S,acceptRequest:h,declineRequest:C,cancelRequest:w,isProcessing:g}}function r(e){let{query:n,limit:c=20}=e,{user:i}=(0,o.useAuth)(),[r,t]=(0,a.useState)([]),[d,m]=(0,a.useState)(!1),[s,f]=(0,a.useState)(null),g=(0,a.useCallback)(async e=>{if(!i||!e.trim())return void t([]);m(!0),f(null);try{let a=await l.FriendsService.searchUsers(e,i.id,c);t(a)}catch(e){f(e instanceof Error?e.message:"Failed to search users")}finally{m(!1)}},[i,c]);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{g(n)},300);return()=>clearTimeout(e)},[n,g]),{users:r,loading:d,error:s,searchUsers:g}}function t(){let{user:e}=(0,o.useAuth)(),{friends:c}=(0,n.useRealtime)(),[i,r]=(0,a.useState)(!1),[t,d]=(0,a.useState)(null),[m,s]=(0,a.useState)(!1),f=(0,a.useCallback)(async a=>{if(e&&!m){s(!0),d(null);try{await l.FriendsService.removeFriend(e.id,a)}catch(e){d(e instanceof Error?e.message:"Failed to remove friend")}finally{s(!1)}}},[e,m]);return{friends:c,loading:i,error:t,removeFriend:f,blockUser:(0,a.useCallback)(async a=>{if(e&&!m){s(!0),d(null);try{await l.FriendsService.blockUser(e.id,a)}catch(e){d(e instanceof Error?e.message:"Failed to block user")}finally{s(!1)}}},[e,m]),unblockUser:(0,a.useCallback)(async a=>{if(e&&!m){s(!0),d(null);try{await l.FriendsService.unblockUser(e.id,a)}catch(e){d(e instanceof Error?e.message:"Failed to unblock user")}finally{s(!1)}}},[e,m]),isProcessing:m}}},62060,e=>{"use strict";e.s(["UserPlusIcon",()=>n],62060);var a=e.i(71645);let n=a.forwardRef(function(e,n){let{title:l,titleId:o,...c}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},c),l?a.createElement("title",{id:o},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))})},24166,e=>{"use strict";e.s(["countries",()=>a,"searchCountries",()=>n]);let a=[{code:"US",name:"United States",flag:"ðŸ‡ºðŸ‡¸"},{code:"CA",name:"Canada",flag:"ðŸ‡¨ðŸ‡¦"},{code:"GB",name:"United Kingdom",flag:"ðŸ‡¬ðŸ‡§"},{code:"AU",name:"Australia",flag:"ðŸ‡¦ðŸ‡º"},{code:"DE",name:"Germany",flag:"ðŸ‡©ðŸ‡ª"},{code:"FR",name:"France",flag:"ðŸ‡«ðŸ‡·"},{code:"IT",name:"Italy",flag:"ðŸ‡®ðŸ‡¹"},{code:"ES",name:"Spain",flag:"ðŸ‡ªðŸ‡¸"},{code:"NL",name:"Netherlands",flag:"ðŸ‡³ðŸ‡±"},{code:"SE",name:"Sweden",flag:"ðŸ‡¸ðŸ‡ª"},{code:"NO",name:"Norway",flag:"ðŸ‡³ðŸ‡´"},{code:"DK",name:"Denmark",flag:"ðŸ‡©ðŸ‡°"},{code:"FI",name:"Finland",flag:"ðŸ‡«ðŸ‡®"},{code:"CH",name:"Switzerland",flag:"ðŸ‡¨ðŸ‡­"},{code:"AT",name:"Austria",flag:"ðŸ‡¦ðŸ‡¹"},{code:"BE",name:"Belgium",flag:"ðŸ‡§ðŸ‡ª"},{code:"IE",name:"Ireland",flag:"ðŸ‡®ðŸ‡ª"},{code:"PT",name:"Portugal",flag:"ðŸ‡µðŸ‡¹"},{code:"GR",name:"Greece",flag:"ðŸ‡¬ðŸ‡·"},{code:"PL",name:"Poland",flag:"ðŸ‡µðŸ‡±"},{code:"CZ",name:"Czech Republic",flag:"ðŸ‡¨ðŸ‡¿"},{code:"HU",name:"Hungary",flag:"ðŸ‡­ðŸ‡º"},{code:"RO",name:"Romania",flag:"ðŸ‡·ðŸ‡´"},{code:"BG",name:"Bulgaria",flag:"ðŸ‡§ðŸ‡¬"},{code:"HR",name:"Croatia",flag:"ðŸ‡­ðŸ‡·"},{code:"SI",name:"Slovenia",flag:"ðŸ‡¸ðŸ‡®"},{code:"SK",name:"Slovakia",flag:"ðŸ‡¸ðŸ‡°"},{code:"LT",name:"Lithuania",flag:"ðŸ‡±ðŸ‡¹"},{code:"LV",name:"Latvia",flag:"ðŸ‡±ðŸ‡»"},{code:"EE",name:"Estonia",flag:"ðŸ‡ªðŸ‡ª"},{code:"JP",name:"Japan",flag:"ðŸ‡¯ðŸ‡µ"},{code:"KR",name:"South Korea",flag:"ðŸ‡°ðŸ‡·"},{code:"CN",name:"China",flag:"ðŸ‡¨ðŸ‡³"},{code:"IN",name:"India",flag:"ðŸ‡®ðŸ‡³"},{code:"SG",name:"Singapore",flag:"ðŸ‡¸ðŸ‡¬"},{code:"MY",name:"Malaysia",flag:"ðŸ‡²ðŸ‡¾"},{code:"TH",name:"Thailand",flag:"ðŸ‡¹ðŸ‡­"},{code:"ID",name:"Indonesia",flag:"ðŸ‡®ðŸ‡©"},{code:"PH",name:"Philippines",flag:"ðŸ‡µðŸ‡­"},{code:"VN",name:"Vietnam",flag:"ðŸ‡»ðŸ‡³"},{code:"BR",name:"Brazil",flag:"ðŸ‡§ðŸ‡·"},{code:"AR",name:"Argentina",flag:"ðŸ‡¦ðŸ‡·"},{code:"MX",name:"Mexico",flag:"ðŸ‡²ðŸ‡½"},{code:"CL",name:"Chile",flag:"ðŸ‡¨ðŸ‡±"},{code:"CO",name:"Colombia",flag:"ðŸ‡¨ðŸ‡´"},{code:"PE",name:"Peru",flag:"ðŸ‡µðŸ‡ª"},{code:"VE",name:"Venezuela",flag:"ðŸ‡»ðŸ‡ª"},{code:"EC",name:"Ecuador",flag:"ðŸ‡ªðŸ‡¨"},{code:"UY",name:"Uruguay",flag:"ðŸ‡ºðŸ‡¾"},{code:"PY",name:"Paraguay",flag:"ðŸ‡µðŸ‡¾"},{code:"BO",name:"Bolivia",flag:"ðŸ‡§ðŸ‡´"},{code:"ZA",name:"South Africa",flag:"ðŸ‡¿ðŸ‡¦"},{code:"NG",name:"Nigeria",flag:"ðŸ‡³ðŸ‡¬"},{code:"KE",name:"Kenya",flag:"ðŸ‡°ðŸ‡ª"},{code:"EG",name:"Egypt",flag:"ðŸ‡ªðŸ‡¬"},{code:"MA",name:"Morocco",flag:"ðŸ‡²ðŸ‡¦"},{code:"TN",name:"Tunisia",flag:"ðŸ‡¹ðŸ‡³"},{code:"DZ",name:"Algeria",flag:"ðŸ‡©ðŸ‡¿"},{code:"LY",name:"Libya",flag:"ðŸ‡±ðŸ‡¾"},{code:"SD",name:"Sudan",flag:"ðŸ‡¸ðŸ‡©"},{code:"ET",name:"Ethiopia",flag:"ðŸ‡ªðŸ‡¹"},{code:"GH",name:"Ghana",flag:"ðŸ‡¬ðŸ‡­"},{code:"CI",name:"Ivory Coast",flag:"ðŸ‡¨ðŸ‡®"},{code:"SN",name:"Senegal",flag:"ðŸ‡¸ðŸ‡³"},{code:"ML",name:"Mali",flag:"ðŸ‡²ðŸ‡±"},{code:"BF",name:"Burkina Faso",flag:"ðŸ‡§ðŸ‡«"},{code:"NE",name:"Niger",flag:"ðŸ‡³ðŸ‡ª"},{code:"TD",name:"Chad",flag:"ðŸ‡¹ðŸ‡©"},{code:"CM",name:"Cameroon",flag:"ðŸ‡¨ðŸ‡²"},{code:"CF",name:"Central African Republic",flag:"ðŸ‡¨ðŸ‡«"},{code:"GA",name:"Gabon",flag:"ðŸ‡¬ðŸ‡¦"},{code:"CG",name:"Congo",flag:"ðŸ‡¨ðŸ‡¬"},{code:"CD",name:"Democratic Republic of Congo",flag:"ðŸ‡¨ðŸ‡©"},{code:"AO",name:"Angola",flag:"ðŸ‡¦ðŸ‡´"},{code:"ZM",name:"Zambia",flag:"ðŸ‡¿ðŸ‡²"},{code:"ZW",name:"Zimbabwe",flag:"ðŸ‡¿ðŸ‡¼"},{code:"BW",name:"Botswana",flag:"ðŸ‡§ðŸ‡¼"},{code:"NA",name:"Namibia",flag:"ðŸ‡³ðŸ‡¦"},{code:"SZ",name:"Eswatini",flag:"ðŸ‡¸ðŸ‡¿"},{code:"LS",name:"Lesotho",flag:"ðŸ‡±ðŸ‡¸"},{code:"MG",name:"Madagascar",flag:"ðŸ‡²ðŸ‡¬"},{code:"MU",name:"Mauritius",flag:"ðŸ‡²ðŸ‡º"},{code:"SC",name:"Seychelles",flag:"ðŸ‡¸ðŸ‡¨"},{code:"RU",name:"Russia",flag:"ðŸ‡·ðŸ‡º"},{code:"UA",name:"Ukraine",flag:"ðŸ‡ºðŸ‡¦"},{code:"BY",name:"Belarus",flag:"ðŸ‡§ðŸ‡¾"},{code:"MD",name:"Moldova",flag:"ðŸ‡²ðŸ‡©"},{code:"GE",name:"Georgia",flag:"ðŸ‡¬ðŸ‡ª"},{code:"AM",name:"Armenia",flag:"ðŸ‡¦ðŸ‡²"},{code:"AZ",name:"Azerbaijan",flag:"ðŸ‡¦ðŸ‡¿"},{code:"KZ",name:"Kazakhstan",flag:"ðŸ‡°ðŸ‡¿"},{code:"UZ",name:"Uzbekistan",flag:"ðŸ‡ºðŸ‡¿"},{code:"TM",name:"Turkmenistan",flag:"ðŸ‡¹ðŸ‡²"},{code:"TJ",name:"Tajikistan",flag:"ðŸ‡¹ðŸ‡¯"},{code:"KG",name:"Kyrgyzstan",flag:"ðŸ‡°ðŸ‡¬"},{code:"MN",name:"Mongolia",flag:"ðŸ‡²ðŸ‡³"},{code:"TR",name:"Turkey",flag:"ðŸ‡¹ðŸ‡·"},{code:"IR",name:"Iran",flag:"ðŸ‡®ðŸ‡·"},{code:"IQ",name:"Iraq",flag:"ðŸ‡®ðŸ‡¶"},{code:"SA",name:"Saudi Arabia",flag:"ðŸ‡¸ðŸ‡¦"},{code:"AE",name:"United Arab Emirates",flag:"ðŸ‡¦ðŸ‡ª"},{code:"QA",name:"Qatar",flag:"ðŸ‡¶ðŸ‡¦"},{code:"KW",name:"Kuwait",flag:"ðŸ‡°ðŸ‡¼"},{code:"BH",name:"Bahrain",flag:"ðŸ‡§ðŸ‡­"},{code:"OM",name:"Oman",flag:"ðŸ‡´ðŸ‡²"},{code:"YE",name:"Yemen",flag:"ðŸ‡¾ðŸ‡ª"},{code:"JO",name:"Jordan",flag:"ðŸ‡¯ðŸ‡´"},{code:"LB",name:"Lebanon",flag:"ðŸ‡±ðŸ‡§"},{code:"SY",name:"Syria",flag:"ðŸ‡¸ðŸ‡¾"},{code:"IL",name:"Israel",flag:"ðŸ‡®ðŸ‡±"},{code:"PS",name:"Palestine",flag:"ðŸ‡µðŸ‡¸"},{code:"CY",name:"Cyprus",flag:"ðŸ‡¨ðŸ‡¾"},{code:"MT",name:"Malta",flag:"ðŸ‡²ðŸ‡¹"},{code:"IS",name:"Iceland",flag:"ðŸ‡®ðŸ‡¸"},{code:"LU",name:"Luxembourg",flag:"ðŸ‡±ðŸ‡º"},{code:"LI",name:"Liechtenstein",flag:"ðŸ‡±ðŸ‡®"},{code:"MC",name:"Monaco",flag:"ðŸ‡²ðŸ‡¨"},{code:"SM",name:"San Marino",flag:"ðŸ‡¸ðŸ‡²"},{code:"VA",name:"Vatican City",flag:"ðŸ‡»ðŸ‡¦"},{code:"AD",name:"Andorra",flag:"ðŸ‡¦ðŸ‡©"},{code:"NZ",name:"New Zealand",flag:"ðŸ‡³ðŸ‡¿"},{code:"FJ",name:"Fiji",flag:"ðŸ‡«ðŸ‡¯"},{code:"PG",name:"Papua New Guinea",flag:"ðŸ‡µðŸ‡¬"},{code:"SB",name:"Solomon Islands",flag:"ðŸ‡¸ðŸ‡§"},{code:"VU",name:"Vanuatu",flag:"ðŸ‡»ðŸ‡º"},{code:"NC",name:"New Caledonia",flag:"ðŸ‡³ðŸ‡¨"},{code:"PF",name:"French Polynesia",flag:"ðŸ‡µðŸ‡«"},{code:"WS",name:"Samoa",flag:"ðŸ‡¼ðŸ‡¸"},{code:"TO",name:"Tonga",flag:"ðŸ‡¹ðŸ‡´"},{code:"KI",name:"Kiribati",flag:"ðŸ‡°ðŸ‡®"},{code:"TV",name:"Tuvalu",flag:"ðŸ‡¹ðŸ‡»"},{code:"NR",name:"Nauru",flag:"ðŸ‡³ðŸ‡·"},{code:"PW",name:"Palau",flag:"ðŸ‡µðŸ‡¼"},{code:"FM",name:"Micronesia",flag:"ðŸ‡«ðŸ‡²"},{code:"MH",name:"Marshall Islands",flag:"ðŸ‡²ðŸ‡­"},{code:"CU",name:"Cuba",flag:"ðŸ‡¨ðŸ‡º"},{code:"JM",name:"Jamaica",flag:"ðŸ‡¯ðŸ‡²"},{code:"HT",name:"Haiti",flag:"ðŸ‡­ðŸ‡¹"},{code:"DO",name:"Dominican Republic",flag:"ðŸ‡©ðŸ‡´"},{code:"PR",name:"Puerto Rico",flag:"ðŸ‡µðŸ‡·"},{code:"TT",name:"Trinidad and Tobago",flag:"ðŸ‡¹ðŸ‡¹"},{code:"BB",name:"Barbados",flag:"ðŸ‡§ðŸ‡§"},{code:"GD",name:"Grenada",flag:"ðŸ‡¬ðŸ‡©"},{code:"LC",name:"Saint Lucia",flag:"ðŸ‡±ðŸ‡¨"},{code:"VC",name:"Saint Vincent and the Grenadines",flag:"ðŸ‡»ðŸ‡¨"},{code:"AG",name:"Antigua and Barbuda",flag:"ðŸ‡¦ðŸ‡¬"},{code:"KN",name:"Saint Kitts and Nevis",flag:"ðŸ‡°ðŸ‡³"},{code:"DM",name:"Dominica",flag:"ðŸ‡©ðŸ‡²"},{code:"BZ",name:"Belize",flag:"ðŸ‡§ðŸ‡¿"},{code:"GT",name:"Guatemala",flag:"ðŸ‡¬ðŸ‡¹"},{code:"HN",name:"Honduras",flag:"ðŸ‡­ðŸ‡³"},{code:"SV",name:"El Salvador",flag:"ðŸ‡¸ðŸ‡»"},{code:"NI",name:"Nicaragua",flag:"ðŸ‡³ðŸ‡®"},{code:"CR",name:"Costa Rica",flag:"ðŸ‡¨ðŸ‡·"},{code:"PA",name:"Panama",flag:"ðŸ‡µðŸ‡¦"},{code:"GY",name:"Guyana",flag:"ðŸ‡¬ðŸ‡¾"},{code:"SR",name:"Suriname",flag:"ðŸ‡¸ðŸ‡·"},{code:"GF",name:"French Guiana",flag:"ðŸ‡¬ðŸ‡«"},{code:"FK",name:"Falkland Islands",flag:"ðŸ‡«ðŸ‡°"},{code:"GS",name:"South Georgia and South Sandwich Islands",flag:"ðŸ‡¬ðŸ‡¸"}],n=e=>{if(!e.trim())return a;let n=e.toLowerCase();return a.filter(e=>e.name.toLowerCase().includes(n)||e.code.toLowerCase().includes(n))}},75272,44735,e=>{"use strict";e.s(["PhoneIcon",()=>n],75272);var a=e.i(71645);let n=a.forwardRef(function(e,n){let{title:l,titleId:o,...c}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},c),l?a.createElement("title",{id:o},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))});e.s(["ChevronDownIcon",()=>l],44735);let l=a.forwardRef(function(e,n){let{title:l,titleId:o,...c}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},c),l?a.createElement("title",{id:o},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},79259,e=>{"use strict";e.s(["PencilIcon",()=>n],79259);var a=e.i(71645);let n=a.forwardRef(function(e,n){let{title:l,titleId:o,...c}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},c),l?a.createElement("title",{id:o},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})}]);