(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,37163,e=>{"use strict";e.s(["useFriendRequests",()=>i,"useFriends",()=>t,"useUserSearch",()=>r]);var a=e.i(71645),n=e.i(55344),l=e.i(65300),o=e.i(83642),c=e.i(17927);function i(){let{friendRequests:e,refreshFriendRequests:i,addOptimisticFriendRequest:r}=(0,n.useRealtime)(),{user:t}=(0,o.useAuth)(),[d,m]=(0,a.useState)(!1),[s,f]=(0,a.useState)(null),[g,u]=(0,a.useState)(!1);(0,a.useEffect)(()=>{},[e]);let S=(0,a.useCallback)(async(e,a)=>{if(t&&!g){u(!0),f(null);try{let n=null;try{let{data:a}=await c.supabase.from("user_profiles").select("id, full_name, username, avatar_url, bio, is_online").eq("id",e).single();n=a}catch(e){console.warn("⚠️ Could not fetch receiver profile for optimistic update:",e)}let o={id:"temp-".concat(Date.now()),sender_id:t.id,receiver_id:e,status:"pending",message:a||void 0,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),receiver_profile:n||{id:e,full_name:null,username:null,avatar_url:null,bio:null,is_online:!1}};r(o),await l.FriendsService.sendFriendRequest(t.id,e,a),await i()}catch(e){f(e instanceof Error?e.message:"Failed to send friend request")}finally{u(!1)}}},[t,g,i,r]),h=(0,a.useCallback)(async e=>{if(t&&!g){u(!0),f(null);try{await l.FriendsService.acceptFriendRequest(e,t.id),await i()}catch(e){f(e instanceof Error?e.message:"Failed to accept friend request")}finally{u(!1)}}},[t,g,i]),C=(0,a.useCallback)(async e=>{if(t&&!g){u(!0),f(null);try{await l.FriendsService.declineFriendRequest(e,t.id),await i()}catch(e){f(e instanceof Error?e.message:"Failed to decline friend request")}finally{u(!1)}}},[t,g,i]),w=(0,a.useCallback)(async e=>{if(t&&!g){u(!0),f(null);try{await l.FriendsService.declineFriendRequest(e,t.id),await i()}catch(e){f(e instanceof Error?e.message:"Failed to cancel friend request")}finally{u(!1)}}},[t,g,i]);return{sentRequests:e.sent,receivedRequests:e.received,loading:d,error:s,sendFriendRequest:S,acceptRequest:h,declineRequest:C,cancelRequest:w,isProcessing:g}}function r(e){let{query:n,limit:c=20}=e,{user:i}=(0,o.useAuth)(),[r,t]=(0,a.useState)([]),[d,m]=(0,a.useState)(!1),[s,f]=(0,a.useState)(null),g=(0,a.useCallback)(async e=>{if(!i||!e.trim())return void t([]);m(!0),f(null);try{let a=await l.FriendsService.searchUsers(e,i.id,c);t(a)}catch(e){f(e instanceof Error?e.message:"Failed to search users")}finally{m(!1)}},[i,c]);return(0,a.useEffect)(()=>{let e=setTimeout(()=>{g(n)},300);return()=>clearTimeout(e)},[n,g]),{users:r,loading:d,error:s,searchUsers:g}}function t(){let{user:e}=(0,o.useAuth)(),{friends:c}=(0,n.useRealtime)(),[i,r]=(0,a.useState)(!1),[t,d]=(0,a.useState)(null),[m,s]=(0,a.useState)(!1),f=(0,a.useCallback)(async a=>{if(e&&!m){s(!0),d(null);try{await l.FriendsService.removeFriend(e.id,a)}catch(e){d(e instanceof Error?e.message:"Failed to remove friend")}finally{s(!1)}}},[e,m]);return{friends:c,loading:i,error:t,removeFriend:f,blockUser:(0,a.useCallback)(async a=>{if(e&&!m){s(!0),d(null);try{await l.FriendsService.blockUser(e.id,a)}catch(e){d(e instanceof Error?e.message:"Failed to block user")}finally{s(!1)}}},[e,m]),unblockUser:(0,a.useCallback)(async a=>{if(e&&!m){s(!0),d(null);try{await l.FriendsService.unblockUser(e.id,a)}catch(e){d(e instanceof Error?e.message:"Failed to unblock user")}finally{s(!1)}}},[e,m]),isProcessing:m}}},62060,e=>{"use strict";e.s(["UserPlusIcon",()=>n],62060);var a=e.i(71645);let n=a.forwardRef(function(e,n){let{title:l,titleId:o,...c}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},c),l?a.createElement("title",{id:o},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 7.5v3m0 0v3m0-3h3m-3 0h-3m-2.25-4.125a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0ZM3 19.235v-.11a6.375 6.375 0 0 1 12.75 0v.109A12.318 12.318 0 0 1 9.374 21c-2.331 0-4.512-.645-6.374-1.766Z"}))})},24166,e=>{"use strict";e.s(["countries",()=>a,"searchCountries",()=>n]);let a=[{code:"US",name:"United States",flag:"🇺🇸"},{code:"CA",name:"Canada",flag:"🇨🇦"},{code:"GB",name:"United Kingdom",flag:"🇬🇧"},{code:"AU",name:"Australia",flag:"🇦🇺"},{code:"DE",name:"Germany",flag:"🇩🇪"},{code:"FR",name:"France",flag:"🇫🇷"},{code:"IT",name:"Italy",flag:"🇮🇹"},{code:"ES",name:"Spain",flag:"🇪🇸"},{code:"NL",name:"Netherlands",flag:"🇳🇱"},{code:"SE",name:"Sweden",flag:"🇸🇪"},{code:"NO",name:"Norway",flag:"🇳🇴"},{code:"DK",name:"Denmark",flag:"🇩🇰"},{code:"FI",name:"Finland",flag:"🇫🇮"},{code:"CH",name:"Switzerland",flag:"🇨🇭"},{code:"AT",name:"Austria",flag:"🇦🇹"},{code:"BE",name:"Belgium",flag:"🇧🇪"},{code:"IE",name:"Ireland",flag:"🇮🇪"},{code:"PT",name:"Portugal",flag:"🇵🇹"},{code:"GR",name:"Greece",flag:"🇬🇷"},{code:"PL",name:"Poland",flag:"🇵🇱"},{code:"CZ",name:"Czech Republic",flag:"🇨🇿"},{code:"HU",name:"Hungary",flag:"🇭🇺"},{code:"RO",name:"Romania",flag:"🇷🇴"},{code:"BG",name:"Bulgaria",flag:"🇧🇬"},{code:"HR",name:"Croatia",flag:"🇭🇷"},{code:"SI",name:"Slovenia",flag:"🇸🇮"},{code:"SK",name:"Slovakia",flag:"🇸🇰"},{code:"LT",name:"Lithuania",flag:"🇱🇹"},{code:"LV",name:"Latvia",flag:"🇱🇻"},{code:"EE",name:"Estonia",flag:"🇪🇪"},{code:"JP",name:"Japan",flag:"🇯🇵"},{code:"KR",name:"South Korea",flag:"🇰🇷"},{code:"CN",name:"China",flag:"🇨🇳"},{code:"IN",name:"India",flag:"🇮🇳"},{code:"SG",name:"Singapore",flag:"🇸🇬"},{code:"MY",name:"Malaysia",flag:"🇲🇾"},{code:"TH",name:"Thailand",flag:"🇹🇭"},{code:"ID",name:"Indonesia",flag:"🇮🇩"},{code:"PH",name:"Philippines",flag:"🇵🇭"},{code:"VN",name:"Vietnam",flag:"🇻🇳"},{code:"BR",name:"Brazil",flag:"🇧🇷"},{code:"AR",name:"Argentina",flag:"🇦🇷"},{code:"MX",name:"Mexico",flag:"🇲🇽"},{code:"CL",name:"Chile",flag:"🇨🇱"},{code:"CO",name:"Colombia",flag:"🇨🇴"},{code:"PE",name:"Peru",flag:"🇵🇪"},{code:"VE",name:"Venezuela",flag:"🇻🇪"},{code:"EC",name:"Ecuador",flag:"🇪🇨"},{code:"UY",name:"Uruguay",flag:"🇺🇾"},{code:"PY",name:"Paraguay",flag:"🇵🇾"},{code:"BO",name:"Bolivia",flag:"🇧🇴"},{code:"ZA",name:"South Africa",flag:"🇿🇦"},{code:"NG",name:"Nigeria",flag:"🇳🇬"},{code:"KE",name:"Kenya",flag:"🇰🇪"},{code:"EG",name:"Egypt",flag:"🇪🇬"},{code:"MA",name:"Morocco",flag:"🇲🇦"},{code:"TN",name:"Tunisia",flag:"🇹🇳"},{code:"DZ",name:"Algeria",flag:"🇩🇿"},{code:"LY",name:"Libya",flag:"🇱🇾"},{code:"SD",name:"Sudan",flag:"🇸🇩"},{code:"ET",name:"Ethiopia",flag:"🇪🇹"},{code:"GH",name:"Ghana",flag:"🇬🇭"},{code:"CI",name:"Ivory Coast",flag:"🇨🇮"},{code:"SN",name:"Senegal",flag:"🇸🇳"},{code:"ML",name:"Mali",flag:"🇲🇱"},{code:"BF",name:"Burkina Faso",flag:"🇧🇫"},{code:"NE",name:"Niger",flag:"🇳🇪"},{code:"TD",name:"Chad",flag:"🇹🇩"},{code:"CM",name:"Cameroon",flag:"🇨🇲"},{code:"CF",name:"Central African Republic",flag:"🇨🇫"},{code:"GA",name:"Gabon",flag:"🇬🇦"},{code:"CG",name:"Congo",flag:"🇨🇬"},{code:"CD",name:"Democratic Republic of Congo",flag:"🇨🇩"},{code:"AO",name:"Angola",flag:"🇦🇴"},{code:"ZM",name:"Zambia",flag:"🇿🇲"},{code:"ZW",name:"Zimbabwe",flag:"🇿🇼"},{code:"BW",name:"Botswana",flag:"🇧🇼"},{code:"NA",name:"Namibia",flag:"🇳🇦"},{code:"SZ",name:"Eswatini",flag:"🇸🇿"},{code:"LS",name:"Lesotho",flag:"🇱🇸"},{code:"MG",name:"Madagascar",flag:"🇲🇬"},{code:"MU",name:"Mauritius",flag:"🇲🇺"},{code:"SC",name:"Seychelles",flag:"🇸🇨"},{code:"RU",name:"Russia",flag:"🇷🇺"},{code:"UA",name:"Ukraine",flag:"🇺🇦"},{code:"BY",name:"Belarus",flag:"🇧🇾"},{code:"MD",name:"Moldova",flag:"🇲🇩"},{code:"GE",name:"Georgia",flag:"🇬🇪"},{code:"AM",name:"Armenia",flag:"🇦🇲"},{code:"AZ",name:"Azerbaijan",flag:"🇦🇿"},{code:"KZ",name:"Kazakhstan",flag:"🇰🇿"},{code:"UZ",name:"Uzbekistan",flag:"🇺🇿"},{code:"TM",name:"Turkmenistan",flag:"🇹🇲"},{code:"TJ",name:"Tajikistan",flag:"🇹🇯"},{code:"KG",name:"Kyrgyzstan",flag:"🇰🇬"},{code:"MN",name:"Mongolia",flag:"🇲🇳"},{code:"TR",name:"Turkey",flag:"🇹🇷"},{code:"IR",name:"Iran",flag:"🇮🇷"},{code:"IQ",name:"Iraq",flag:"🇮🇶"},{code:"SA",name:"Saudi Arabia",flag:"🇸🇦"},{code:"AE",name:"United Arab Emirates",flag:"🇦🇪"},{code:"QA",name:"Qatar",flag:"🇶🇦"},{code:"KW",name:"Kuwait",flag:"🇰🇼"},{code:"BH",name:"Bahrain",flag:"🇧🇭"},{code:"OM",name:"Oman",flag:"🇴🇲"},{code:"YE",name:"Yemen",flag:"🇾🇪"},{code:"JO",name:"Jordan",flag:"🇯🇴"},{code:"LB",name:"Lebanon",flag:"🇱🇧"},{code:"SY",name:"Syria",flag:"🇸🇾"},{code:"IL",name:"Israel",flag:"🇮🇱"},{code:"PS",name:"Palestine",flag:"🇵🇸"},{code:"CY",name:"Cyprus",flag:"🇨🇾"},{code:"MT",name:"Malta",flag:"🇲🇹"},{code:"IS",name:"Iceland",flag:"🇮🇸"},{code:"LU",name:"Luxembourg",flag:"🇱🇺"},{code:"LI",name:"Liechtenstein",flag:"🇱🇮"},{code:"MC",name:"Monaco",flag:"🇲🇨"},{code:"SM",name:"San Marino",flag:"🇸🇲"},{code:"VA",name:"Vatican City",flag:"🇻🇦"},{code:"AD",name:"Andorra",flag:"🇦🇩"},{code:"NZ",name:"New Zealand",flag:"🇳🇿"},{code:"FJ",name:"Fiji",flag:"🇫🇯"},{code:"PG",name:"Papua New Guinea",flag:"🇵🇬"},{code:"SB",name:"Solomon Islands",flag:"🇸🇧"},{code:"VU",name:"Vanuatu",flag:"🇻🇺"},{code:"NC",name:"New Caledonia",flag:"🇳🇨"},{code:"PF",name:"French Polynesia",flag:"🇵🇫"},{code:"WS",name:"Samoa",flag:"🇼🇸"},{code:"TO",name:"Tonga",flag:"🇹🇴"},{code:"KI",name:"Kiribati",flag:"🇰🇮"},{code:"TV",name:"Tuvalu",flag:"🇹🇻"},{code:"NR",name:"Nauru",flag:"🇳🇷"},{code:"PW",name:"Palau",flag:"🇵🇼"},{code:"FM",name:"Micronesia",flag:"🇫🇲"},{code:"MH",name:"Marshall Islands",flag:"🇲🇭"},{code:"CU",name:"Cuba",flag:"🇨🇺"},{code:"JM",name:"Jamaica",flag:"🇯🇲"},{code:"HT",name:"Haiti",flag:"🇭🇹"},{code:"DO",name:"Dominican Republic",flag:"🇩🇴"},{code:"PR",name:"Puerto Rico",flag:"🇵🇷"},{code:"TT",name:"Trinidad and Tobago",flag:"🇹🇹"},{code:"BB",name:"Barbados",flag:"🇧🇧"},{code:"GD",name:"Grenada",flag:"🇬🇩"},{code:"LC",name:"Saint Lucia",flag:"🇱🇨"},{code:"VC",name:"Saint Vincent and the Grenadines",flag:"🇻🇨"},{code:"AG",name:"Antigua and Barbuda",flag:"🇦🇬"},{code:"KN",name:"Saint Kitts and Nevis",flag:"🇰🇳"},{code:"DM",name:"Dominica",flag:"🇩🇲"},{code:"BZ",name:"Belize",flag:"🇧🇿"},{code:"GT",name:"Guatemala",flag:"🇬🇹"},{code:"HN",name:"Honduras",flag:"🇭🇳"},{code:"SV",name:"El Salvador",flag:"🇸🇻"},{code:"NI",name:"Nicaragua",flag:"🇳🇮"},{code:"CR",name:"Costa Rica",flag:"🇨🇷"},{code:"PA",name:"Panama",flag:"🇵🇦"},{code:"GY",name:"Guyana",flag:"🇬🇾"},{code:"SR",name:"Suriname",flag:"🇸🇷"},{code:"GF",name:"French Guiana",flag:"🇬🇫"},{code:"FK",name:"Falkland Islands",flag:"🇫🇰"},{code:"GS",name:"South Georgia and South Sandwich Islands",flag:"🇬🇸"}],n=e=>{if(!e.trim())return a;let n=e.toLowerCase();return a.filter(e=>e.name.toLowerCase().includes(n)||e.code.toLowerCase().includes(n))}},75272,44735,e=>{"use strict";e.s(["PhoneIcon",()=>n],75272);var a=e.i(71645);let n=a.forwardRef(function(e,n){let{title:l,titleId:o,...c}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},c),l?a.createElement("title",{id:o},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))});e.s(["ChevronDownIcon",()=>l],44735);let l=a.forwardRef(function(e,n){let{title:l,titleId:o,...c}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},c),l?a.createElement("title",{id:o},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))})},79259,e=>{"use strict";e.s(["PencilIcon",()=>n],79259);var a=e.i(71645);let n=a.forwardRef(function(e,n){let{title:l,titleId:o,...c}=e;return a.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":o},c),l?a.createElement("title",{id:o},l):null,a.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L6.832 19.82a4.5 4.5 0 0 1-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 0 1 1.13-1.897L16.863 4.487Zm0 0L19.5 7.125"}))})}]);